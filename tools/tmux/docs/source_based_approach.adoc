= Tmux Source-Based Configuration Approach
:toc: left
:icons: font

== Overview

The tmux configuration system has been updated to use a source-based approach. Instead of directly installing configuration files to `~/.tmux.conf`, the system now creates a small redirector file that sources the Bazel-generated configuration.

== Benefits

* *Separation of concerns*: Keeps generated configurations separate from user customizations
* *Reproducibility*: Configuration can be regenerated without losing local customizations
* *Easier updates*: Changes to the core configuration don't require manual merging
* *Configuration layering*: Support for local extensions via .tmux.conf.local

== How It Works

When you run a tmux dotfile installation target (e.g., `bazel run //tools/tmux:tmux_conf_dotfile`), the system:

1. Creates or updates a file at the standard location (e.g., `~/.tmux.conf`)
2. This file contains a `source-file` directive pointing to the Bazel-generated configuration
3. Local customizations can be added to the file after the source line or in `~/.tmux.conf.local`

== Installation Options

The following installation targets are available:

[cols="1,2"]
|===
|Target |Description

|`//tools/tmux:tmux_conf_dotfile`
|Basic tmux configuration with version detection

|`//tools/tmux:tmux_conf_combined_dotfile`
|Platform-specific configuration (detects OS at build time)

|`//tools/tmux:tmux_conf_unified_dotfile`
|Unified configuration (combines platform and version detection)

|`//tools/tmux:tmux_conf_combined_work_dotfile`
|Work variant configuration

|`//tools/tmux:tmux_conf_combined_personal_dotfile`
|Personal variant configuration
|===

== Local Customizations

You can add local customizations in two ways:

1. Add configuration lines directly to `~/.tmux.conf` after the source-file line
2. Create a separate `~/.tmux.conf.local` file with your custom settings

Example `~/.tmux.conf.local` file:

[source,bash]
----
# Override status bar colors
set -g status-style "bg=#000000,fg=#ffffff"

# Add custom key bindings
bind-key C-x set-window-option synchronize-panes
----

== Recommended Usage

For most users, we recommend installing the unified configuration:

[source,bash]
----
bazel run //tools/tmux:tmux_conf_unified_dotfile
----

For specific context needs (work vs personal), use the variant-specific targets.