= VSCode Module

== Overview

This module provides configuration management for Visual Studio Code (VSCode). It handles:

* User-level VSCode settings
* Workspace-specific VSCode settings
* Platform detection for VSCode installations
* Platform-specific configuration options

== Usage

=== VSCode Detection

To detect if VSCode is installed and configure Bazel accordingly:

[source,shell]
----
bazel run //tools/vscode:detect
----

This will:
1. Check if VSCode is installed on the system
2. Update `.bazelrc.local` with appropriate detection settings
3. Output a JSON file with detection details

=== Installing VSCode Configuration

To install the default VSCode configuration:

[source,shell]
----
bazel run //tools/vscode:vscode_user_settings
----

To install a platform-specific configuration:

[source,shell]
----
bazel run //tools/vscode:vscode_platform_settings
----

=== Workspace Configuration

To install a workspace-specific configuration in the current directory:

[source,shell]
----
bazel run //tools/vscode:vscode_workspace_settings
----

== Configuration Options

The VSCode module supports configuration for different platforms and variants:

* Platforms: macos, linux, windows, wsl
* Variants: work, personal

== Conditional Configuration

Using Bazel's `select()` mechanism, configurations can be conditionally included based on platform detection:

[source,python]
----
filegroup(
    name = "vscode_configs",
    srcs = select({
        "//selectors:has_vscode": [":vscode_settings"],
        "//conditions:default": [],
    }),
)
----

== Integration with Other Tools

This module can be integrated with other dotfile modules:

[source,python]
----
load("//modules/vscode:vscode_rules.bzl", "vscode_config")

vscode_config(
    name = "my_custom_vscode_config",
    src = "my_settings.json",
    platform = "macos",
    variant = "work",
)
----