# chezmoi external files configuration - downloads external files
# See: https://www.chezmoi.io/reference/special-files/chezmoiexternal-format/
# See: https://www.chezmoi.io/user-guide/include-files-from-ailleurs/

{{ if eq .bazelisk.installation "external-sources" }}
[".local/bin/bazelisk"]
type = "file"
url = "https://github.com/bazelbuild/bazelisk/releases/download/v{{ .bazelisk.version }}/bazelisk-{{ .chezmoi.os }}-{{ .chezmoi.arch }}"
executable = true
{{ end }}

{{ if eq .fzf.installation "external-sources" }}
[".local/bin/fzf"]
type = "archive-file"
url = "https://github.com/junegunn/fzf/releases/download/v{{ .fzf.version }}/fzf-{{ .fzf.version }}-{{ .chezmoi.os }}_{{ .chezmoi.arch }}.tar.gz"
path = "fzf"
executable = true
{{ end }}

{{ if eq .ripgrep.installation "external-sources" }}
[".local/bin/rg"]
type = "archive-file"
url = "https://github.com/BurntSushi/ripgrep/releases/download/{{ .ripgrep.version }}/ripgrep-{{ .ripgrep.version }}-{{ if eq .chezmoi.os "darwin" }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-apple-darwin{{ else }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-unknown-linux-musl{{ end }}.tar.gz"
path = "ripgrep-{{ .ripgrep.version }}-{{ if eq .chezmoi.os "darwin" }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-apple-darwin{{ else }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-unknown-linux-musl{{ end }}/rg"
executable = true
{{ end }}

{{ if eq .bat.installation "external-sources" }}
[".local/bin/bat"]
type = "archive-file"
url = "https://github.com/sharkdp/bat/releases/download/v{{ .bat.version }}/bat-v{{ .bat.version }}-{{ if eq .chezmoi.os "darwin" }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-apple-darwin{{ else }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-unknown-linux-gnu{{ end }}.tar.gz"
path = "bat-v{{ .bat.version }}-{{ if eq .chezmoi.os "darwin" }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-apple-darwin{{ else }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-unknown-linux-gnu{{ end }}/bat"
executable = true
{{ end }}

{{ if eq .zoxide.installation "external-sources" }}
[".local/bin/zoxide"]
type = "archive-file"
url = "https://github.com/ajeetdsouza/zoxide/releases/download/v{{ .zoxide.version }}/zoxide-{{ .zoxide.version }}-{{ if eq .chezmoi.os "darwin" }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-apple-darwin{{ else }}{{ if eq .chezmoi.arch "arm64" }}aarch64{{ else }}x86_64{{ end }}-unknown-linux-musl{{ end }}.tar.gz"
path = "zoxide"
executable = true
{{ end }}

{{ with (index .zsh "oh-my-zsh") }}
{{ if eq .installation "external-sources" }}
[".dotfiles/external/oh-my-zsh"]
    type = "archive"
    url = "https://github.com/ohmyzsh/ohmyzsh/archive/{{ .sha }}.tar.gz"
    exact = true
    stripComponents = 1

{{ if .powerlevel10k.enabled }}
[".dotfiles/external/oh-my-zsh/custom/themes/powerlevel10k"]
    type = "archive"
    url = "https://github.com/romkatv/powerlevel10k/archive/refs/tags/{{ .powerlevel10k.version }}.tar.gz"
    exact = true
    stripComponents = 1

# MesloLGS NF font files for Powerlevel10k
[".dotfiles/external/fonts/MesloLGS NF Regular.ttf"]
    type = "file"
    url = "https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Regular.ttf"
    checksum.sha256 = "d97946186e97f8d7c0139e8983abf40a1d2d086924f2c5dbf1c29bd8f2c6e57d"

[".dotfiles/external/fonts/MesloLGS NF Bold.ttf"]
    type = "file"
    url = "https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold.ttf"
    checksum.sha256 = "b6c0199cf7c7483c8343ea020658925e6de0aeb318b89908152fcb4d19226003"

[".dotfiles/external/fonts/MesloLGS NF Italic.ttf"]
    type = "file"
    url = "https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Italic.ttf"
    checksum.sha256 = "6f357bcbe2597704e157a915625928bca38364a89c22a4ac36e7a116dcd392ef"

[".dotfiles/external/fonts/MesloLGS NF Bold Italic.ttf"]
    type = "file"
    url = "https://github.com/romkatv/powerlevel10k-media/raw/master/MesloLGS%20NF%20Bold%20Italic.ttf"
    checksum.sha256 = "56b4131adecec052c4b324efb818dd326d586dbc316fc68f98f1cae2eb8d1220"
{{ end }}
{{ end }}
{{ end }}
