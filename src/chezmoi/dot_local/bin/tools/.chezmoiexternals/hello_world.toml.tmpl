{{- /* Query Bazel for artifact path using target label */ -}}
{{- $target := "//src/python/hello_world:hello_world_exe" -}}
{{- $relPath := output "sh" "-c" (printf "bazel cquery --output=files '%s' 2>&1 | grep '^bazel-out'" $target) | trim -}}
{{- $workspaceRoot := output "bazel" "info" "workspace" | trim -}}
{{- $artifactPath := printf "%s/%s" $workspaceRoot $relPath -}}

["hello_world"]
type = "file"
url = {{ printf "file://%s" $artifactPath | quote }}
executable = true
refreshPeriod = "0"
