{{- with .jq -}}
{{- if eq .installation "external-sources" -}}
{{- $platform := printf "%s_%s" $.chezmoi.os $.chezmoi.arch -}}
{{- $target := "" -}}
{{- if eq $.chezmoi.os "darwin" -}}
  {{- $target = printf "macos-%s" (eq $.chezmoi.arch "arm64" | ternary "arm64" "amd64") -}}
{{- else -}}
  {{- $target = printf "linux-%s" (eq $.chezmoi.arch "arm64" | ternary "arm64" "amd64") -}}
{{- end }}
["jq"]
type = "file"
url = {{ gitHubReleaseAssetURL "jqlang/jq" (printf "jq-%s" .version) (printf "jq-%s" $target) | quote }}
executable = true
{{- if and (hasKey .checksums $platform) (ne (trim (index .checksums $platform)) "") }}
checksum.sha256 = "{{ index .checksums $platform }}"
{{- end }}
{{- end -}}
{{- end }}