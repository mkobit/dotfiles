{{- with .fd -}}
{{- if eq .installation "external-sources" -}}
{{- $platform := printf "%s_%s" $.chezmoi.os $.chezmoi.arch -}}
{{- $target := "" -}}
{{- if eq $.chezmoi.os "darwin" -}}
  {{- $target = printf "%s-apple-darwin" (eq $.chezmoi.arch "arm64" | ternary "aarch64" "x86_64") -}}
{{- else -}}
  {{- $target = printf "%s-unknown-linux-musl" (eq $.chezmoi.arch "arm64" | ternary "aarch64" "x86_64") -}}
{{- end }}
["fd"]
type = "archive-file"
url = {{ gitHubReleaseAssetURL "sharkdp/fd" (printf "v%s" .version) (printf "fd-v%s-%s.tar.gz" .version $target) | quote }}
path = "fd-v{{ .version }}-{{ $target }}/fd"
executable = true
{{- if and (hasKey .checksums $platform) (ne (trim (index .checksums $platform)) "") }}
checksum.sha256 = "{{ index .checksums $platform }}"
{{- end }}
{{- end -}}
{{- end }}